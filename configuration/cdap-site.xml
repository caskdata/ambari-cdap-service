<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<!--
  Copyright Â© 2015-2016 Cask Data, Inc.

  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
-->

<configuration supports_final="true">

  <property>
    <name>root.namespace</name>
    <value>cdap</value>
    <description>
      Root for this CDAP instance; used as the parent (or root) node for
      ZooKeeper, as the directory under which all CDAP data and metadata is
      stored in HDFS, and as the prefix for all HBase tables created by
      CDAP; must be composed of alphanumeric characters
    </description>
  </property>

  <property>
    <name>instance.name</name>
    <value>${root.namespace}</value>
    <description>
      Determines a unique identifier for a CDAP instance. It is used for providing authorization to a particular CDAP
      instance. Must be alphanumeric, and should not be changed after CDAP has been started. If it is changed, there is
      a risk of losing data (for example, authorization policies).
    </description>
  </property>

  <property>
    <name>zookeeper.quorum</name>
    <value>{{cdap_zookeeper_quorum}}</value>
    <description>
      ZooKeeper quorum string; specifies the ZooKeeper host:port; substitute the quorum
      (FQDN1:2181,FQDN2:2181,...) for the components shown here
    </description>
  </property>

  <property>
    <name>zookeeper.session.timeout.millis</name>
    <value>40000</value>
    <description>
      ZooKeeper session timeout in milliseconds
    </description>
  </property>

  <property>
    <name>master.startup.checks.enabled</name>
    <value>true</value>
    <description>
      Whether checks should be run before startup to determine if the CDAP Master can be run correctly.
      Which checks are run is determined by the master.startup.checks.packages and master.startup.checks.classes
      settings. If any checks fail, the CDAP Master will fail to start instead of waiting for the problem to be fixed.
      This setting only affects Distributed CDAP. It does not apply to Standalone CDAP.
    </description>
    <display-name>Master Startup Checks</display-name>
    <value-attributes>
      <type>boolean</type>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>master.startup.checks.packages</name>
    <value>co.cask.cdap.master.startup</value>
    <description>
      Comma-separated list of packages containing checks that will be run before the CDAP Master starts up.
      If any of the checks fails, the CDAP Master will not start up.
      Checks will only be run if master.startup.checks.enabled is set to true.
    </description>
  </property>

  <property>
    <name>master.startup.checks.classes</name>
    <description>
      Comma-separated list of classnames for checks that will be run before the CDAP Master starts up.
      If any of the checks fails, the CDAP Master will not start up.
      Checks will only be run if master.startup.checks.enabled is set to true.
    </description>
  </property>

  <property>
    <name>thrift.max.read.buffer</name>
    <value>16777216</value>
    <description>
      Specifies the maximum read buffer size in bytes used by the Thrift
      service; value should be set to greater than the maximum frame sent on
      the RPC channel
    </description>
  </property>

  <property>
    <name>twill.zookeeper.namespace</name>
    <value>/twill</value>
    <description>
      ZooKeeper namespace prefix for Apache Twill
    </description>
  </property>

  <property>
    <name>twill.java.reserved.memory.mb</name>
    <value>250</value>
    <description>
      Reserved non-heap memory in megabytes for Apache Twill container
    </description>
  </property>

  <property>
    <name>twill.no.container.timeout</name>
    <value>120000</value>
    <description>
      Amount of time in milliseconds to wait for at least one container for
      Apache Twill runnable
    </description>
  </property>

  <property>
    <name>twill.jvm.gc.opts</name>
    <value>-verbose:gc -Xloggc:&lt;LOG_DIR&gt;/gc.log -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=1M</value>
    <description>
      Java garbage collection options for all Apache Twill containers;
      "&lt;LOG_DIR&gt;" is the location of the log directory in the
      container; note that the special characters are replaced with entity
      equivalents so they can be included in the XML
    </description>
  </property>

  <property>
    <name>hdfs.namespace</name>
    <value>/${root.namespace}</value>
    <description>
      Root directory for HDFS files written by CDAP
    </description>
  </property>

  <property>
    <name>hdfs.user</name>
    <value>{{cdap_user}}</value>
    <description>User name for accessing HDFS</description>
  </property>

  <property>
    <name>namespaces.dir</name>
    <value>namespaces</value>
    <description>The sub-directory of ${hdfs.namespace} in which namespaces are stored</description>
  </property>

  <property>
    <name>hdfs.lib.dir</name>
    <value>${hdfs.namespace}/lib</value>
    <description>
      Common directory in HDFS for, among others, JAR files for coprocessors
    </description>
  </property>

  <!-- AppFabric -->

  <property>
    <name>app.connection.backlog</name>
    <value>20000</value>
    <description>
      Max connection backlog of CDAP Master
    </description>
  </property>

  <property>
    <name>app.exec.threads</name>
    <value>20</value>
    <description>
      Number of Netty service executor threads
    </description>
  </property>

  <property>
    <name>app.boss.threads</name>
    <value>1</value>
    <description>
      Number of Netty service boss threads
    </description>
  </property>

  <property>
    <name>app.worker.threads</name>
    <value>10</value>
    <description>
      Number of Netty service worker threads
    </description>
  </property>

  <!-- YARN Services Parameters -->

  <property>
    <name>master.service.num.cores</name>
    <value>2</value>
    <description>Number of cores for Master Service instance</description>
    <display-name>CDAP Master YARN CPU Cores</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>1</minimum>
      <maximum>4</maximum>
      <increment-step>1</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>master.service.memory.mb</name>
    <value>512</value>
    <description>
      Size of memory in megabytes for Master Service instance
    </description>
    <display-name>CDAP Master YARN Memory</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>268435456</maximum>
      <unit>MB</unit>
      <increment-step>256</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>master.service.max.instances</name>
    <value>5</value>
    <description>Maximum number of Master Service instances</description>
  </property>

  <!-- Master Services HTTP handles -->

  <property>
    <name>http.service.connection.backlog</name>
    <value>20000</value>
    <description>Max connection backlog of master HTTP service</description>
  </property>

  <property>
    <name>http.service.exec.threads</name>
    <value>20</value>
    <description>Number of Netty service executor threads for master HTTP services</description>
  </property>

  <property>
    <name>http.service.boss.threads</name>
    <value>1</value>
    <description>Number of Netty service boss threads for master HTTP services</description>
  </property>

  <property>
    <name>http.service.worker.threads</name>
    <value>10</value>
    <description>Number of Netty service worker threads for master HTTP services</description>
  </property>

  <property>
    <name>master.collect.app.containers.log.level</name>
    <value>ERROR</value>
    <description>
      The log level of application container logs that are streamed back to the CDAP Master process log.
      The levels supported are [ ALL, TRACE, DEBUG, INFO, WARN, ERROR, OFF ].
    </description>
  </property>

  <property>
    <name>master.collect.containers.log</name>
    <value>true</value>
    <description>
      Determines if master service container logs are streamed back to the CDAP Master process log
    </description>
  </property>

  <!-- Stream handles -->

  <property>
    <name>stream.flume.port</name>
    <value>10004</value>
  </property>

  <property>
    <name>stream.flume.threads</name>
    <value>100</value>
  </property>

  <property>
    <name>stream.base.dir</name>
    <value>/streams</value>
    <description>The directory root for all stream files, relative to the HDFS namespace</description>
  </property>

  <property>
    <name>stream.partition.duration</name>
    <value>3600000</value>
    <description>
      The default duration of a stream partition in milliseconds
    </description>
  </property>

  <property>
    <name>stream.index.interval</name>
    <value>10000</value>
    <description>
      Default time interval in milliseconds for emitting new index entry in
      stream file
    </description>
  </property>

  <property>
    <name>stream.event.ttl</name>
    <value>9223372036854775807</value>
    <description>
      Default time to live in milliseconds (Long.MAX_VALUE) for stream
      events
    </description>
  </property>

  <property>
    <name>stream.container.instance.id</name>
    <value>0</value>
    <description>
      Instance ID for the stream service container; the actual value will be
      set at runtime by the system automatically
    </description>
  </property>

  <property>
    <name>stream.notification.threshold</name>
    <value>1024</value>
    <description>
      Size of data, in megabytes, to be ingested by a stream before a
      notification is published
    </description>
  </property>

  <property>
    <name>stream.size.schedule.polling.delay</name>
    <value>600</value>
    <description>Delay, in seconds, to poll a stream in a StreamSizeSchedule if no notification is received</description>
  </property>

  <property>
    <name>stream.file.prefix</name>
    <value>file</value>
    <description>
      Prefix of file name for stream file
    </description>
  </property>

  <property>
    <name>stream.instance.file.prefix</name>
    <value>${stream.file.prefix}.${stream.container.instance.id}</value>
    <description>
      Prefix of file name for stream file per writer instance
    </description>
    <final>true</final>
  </property>

  <property>
    <name>stream.consumer.table.presplits</name>
    <value>16</value>
    <description>
      Number of splits for the stream consumer table
    </description>
  </property>

  <property>
    <name>stream.bind.address</name>
    <value>0.0.0.0</value>
    <description>
      Stream HTTP service bind address
    </description>
  </property>

  <property>
    <name>stream.worker.threads</name>
    <value>${http.service.worker.threads}</value>
    <description>
      Default number of IO worker threads for the stream HTTP service
    </description>
  </property>

  <property>
    <name>stream.container.num.cores</name>
    <value>2</value>
    <description>
      Number of virtual core for the YARN container that runs the stream
      handler
    </description>
    <display-name>Stream YARN CPU Cores</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>1</minimum>
      <maximum>4</maximum>
      <increment-step>1</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>stream.container.memory.mb</name>
    <value>512</value>
    <description>
      Amount of memory in megabytes for the YARN container that runs the
      stream handler
    </description>
    <display-name>Stream YARN Memory</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>268435456</maximum>
      <unit>MB</unit>
      <increment-step>256</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>stream.container.instances</name>
    <value>1</value>
    <description>
      Number of YARN container instances for the stream handler; in
      standalone mode, it's always one
    </description>
  </property>

  <property>
    <name>stream.file.cleanup.period</name>
    <value>300000</value>
    <description>
      Default time interval in milliseconds for running the stream file
      cleanup process
    </description>
  </property>

  <property>
    <name>stream.async.worker.threads</name>
    <value>${stream.worker.threads}</value>
    <description>
      Number of async worker threads for handling async write requests
    </description>
  </property>

  <property>
    <name>stream.async.queue.size</name>
    <value>100</value>
    <description>
      Queue size per async worker thread for queuing up async write requests
    </description>
  </property>

  <property>
    <name>stream.batch.buffer.threshold</name>
    <value>1048576</value>
    <description>Bytes retained in-memory before writing to a new stream file</description>
  </property>

  <!-- Audit Configuration -->

  <property>
    <name>audit.enabled</name>
    <value>true</value>
    <description>
      Determines whether to publish audit messages to Apache Kafka
    </description>
    <display-name>Publish Audit Logs</display-name>
    <value-attributes>
      <type>boolean</type>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>audit.kafka.topic</name>
    <value>audit</value>
    <description>
      Apache Kafka topic name to which audit messages are published
    </description>
  </property>

  <!-- DataFabric Configuration -->

  <property>
    <name>data.tx.server.io.threads</name>
    <value>2</value>
    <description>
      Number of IO threads for the transaction service
    </description>
  </property>

  <property>
    <name>data.tx.server.threads</name>
    <value>25</value>
    <description>
      Number of threads for the transaction service
    </description>
  </property>

  <property>
    <name>data.tx.discovery.service.name</name>
    <value>transaction</value>
    <description>Name in discovery service for the transaction service</description>
  </property>

  <property>
    <name>data.tx.client.count</name>
    <value>5</value>
    <description>
      The number of pooled instances of the transaction client;
      increase this to increase transaction concurrency
    </description>
  </property>

  <property>
    <name>data.tx.client.provider</name>
    <value>thread-local</value>
    <description>
      Provider strategy for transaction clients; valid values are "pool" and
      "thread-local"
    </description>
  </property>

  <property>
    <name>data.tx.thrift.max.read.buffer</name>
    <value>${thrift.max.read.buffer}</value>
    <description>
      Maximum read buffer size (in bytes) used by the transaction service;
      the value should be set to something greater than the maximum frame
      sent on the RPC channel
    </description>
  </property>

  <property>
    <name>data.tx.hdfs.user</name>
    <value>${hdfs.user}</value>
    <description>
      User name for accessing HDFS (if not running in secure HDFS)
    </description>
  </property>

  <property>
    <name>data.tx.snapshot.codecs</name>
    <value>
      co.cask.cdap.data2.transaction.snapshot.SnapshotCodecV1,
      co.cask.cdap.data2.transaction.snapshot.SnapshotCodecV2,
      co.cask.tephra.snapshot.SnapshotCodecV3
    </value>
    <description>Specifies the class names of all supported transaction state codecs</description>
  </property>

  <property>
    <name>data.tx.snapshot.dir</name>
    <value>${hdfs.namespace}/tx.snapshot</value>
    <description>Directory in HDFS used to store snapshots and logs of transaction state</description>
  </property>

  <property>
    <name>data.tx.snapshot.interval</name>
    <value>60</value>
    <description>
      Frequency of transaction snapshots in seconds
    </description>
  </property>

  <property>
    <name>data.tx.snapshot.retain</name>
    <value>10</value>
    <description>Number of transaction snapshot files to retain as backups</description>
  </property>

  <property>
    <name>data.tx.janitor.enable</name>
    <value>true</value>
    <description>
      Determines if the TransactionDataJanitor coprocessor is enabled on
      tables; normally should be true
    </description>
  </property>

  <property>
    <name>data.tx.timeout</name>
    <value>30</value>
    <description>
      Timeout value in seconds for a transaction; if the transaction is not
      finished in that time, it is marked invalid
    </description>
  </property>

  <property>
    <name>data.tx.num.instances</name>
    <value>1</value>
    <description>
      Requested number of transaction client instances
    </description>
  </property>

  <property>
    <name>data.tx.max.instances</name>
    <value>${master.service.max.instances}</value>
    <description>
      Maximum number of transaction client instances
    </description>
  </property>

  <property>
    <name>data.tx.num.cores</name>
    <value>2</value>
    <description>
      Maximum number of transaction client cores
    </description>
    <display-name>Transaction Client YARN CPU Cores</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>1</minimum>
      <maximum>4</maximum>
      <increment-step>1</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>data.tx.memory.mb</name>
    <value>512</value>
    <description>
      Memory in megabytes of the transaction clients
    </description>
    <display-name>Transaction Client YARN Memory</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>268435456</maximum>
      <unit>MB</unit>
      <increment-step>256</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>dataset.data.dir</name>
    <value>data</value>
    <description>Base directory for user data on the filesystem</description>
  </property>

  <!-- Queue Configuration -->

  <property>
    <name>data.queue.table.name</name>
    <value>queues</value>
    <description>Specifies the name of the table for queues</description>
  </property>

  <property>
    <name>data.queue.dequeue.tx.percent</name>
    <value>30</value>
    <description>
      Percentage of transaction time allowed to spend in dequeue; it should
      be an integer between 1-100
    </description>
  </property>

  <property>
    <name>data.queue.config.update.interval</name>
    <value>5</value>
    <description>
      Frequency, in seconds, of updates to the queue consumer configuration used in evicting queue entries on flush and compaction
    </description>
  </property>

  <property>
    <name>data.queue.table.presplits</name>
    <value>16</value>
    <description>
      Number of splits in the queue table
    </description>
  </property>

  <!-- Metadata Service Configuration -->

  <property>
    <name>metadata.program.run.history.keepdays</name>
    <value>30</value>
    <description>Specifies the number of days to keep program run run-history in metadata</description>
  </property>

  <!-- AppFabric related changes -->

  <property>
    <name>app.artifact.dir</name>
    <value>/opt/cdap/master/artifacts</value>
    <description>
      Semicolon-separated list of local directories scanned for system artifacts
      to add to the artifact repository
    </description>
  </property>

  <property>
    <name>app.output.dir</name>
    <value>/programs</value>
    <description>Directory where all archives are stored</description>
  </property>

  <property>
    <name>app.program.runtime.extensions.dir</name>
    <value>/opt/cdap/master/ext/runtimes</value>
    <description>
      Semicolon-separated list of local directories that are scanned for program runtime extensions
    </description>
  </property>

  <property>
    <name>app.program.spark.yarn.client.rewrite.enabled</name>
    <value>true</value>
    <description>
      Specify whether to rewrite the yarn.Client class in Spark to work
      around the issue SPARK-13441 in some clusters.
    </description>
  </property>

  <property>
    <name>app.temp.dir</name>
    <value>/tmp</value>
  </property>

  <property>
    <name>dataset.table.prefix</name>
    <value>${root.namespace}</value>
    <description>Prefix for dataset table name</description>
  </property>

  <property>
    <name>dataset.service.output.dir</name>
    <value>/datasets</value>
    <description>Directory where all dataset modules archives are stored</description>
  </property>

  <property>
    <name>dataset.executor.container.memory.mb</name>
    <value>512</value>
    <description>
      Size of memory in megabytes for each dataset executor instance
    </description>
    <display-name>Dataset Executor YARN Memory</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>268435456</maximum>
      <unit>MB</unit>
      <increment-step>256</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>dataset.executor.container.num.cores</name>
    <value>1</value>
    <description>
      Number of virtual cores for each dataset executor instance
    </description>
    <display-name>Dataset Executor YARN CPU Cores</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>1</minimum>
      <maximum>4</maximum>
      <increment-step>1</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>dataset.executor.max.instances</name>
    <value>${master.service.max.instances}</value>
    <description>
      Maximum number of dataset executor instances
    </description>
  </property>

  <property>
    <name>dataset.extensions.dir</name>
    <value>/opt/cdap/ext/lib</value>
    <description>
      Directory where all dataset extensions are stored
    </description>
  </property>

  <property>
    <name>app.program.jvm.opts</name>
    <value>-XX:MaxPermSize=128M ${twill.jvm.gc.opts} -Dhdp.version=${hdp.version} -Dspark.yarn.am.extraJavaOptions=-Dhdp.version=${hdp.version}</value>
    <description>Java options for all program containers</description>
  </property>

  <!-- Used for MapReduce Info endpoint -->

  <property>
    <name>mapreduce.jobclient.connect.max.retries</name>
    <value>2</value>
    <description>
      Indicates the maximum number of retries JobClient will make to establish a service
      connection when retrieving job status and history
    </description>
  </property>

  <property>
    <name>mapreduce.include.custom.format.classes</name>
    <value>true</value>
    <description>
      Indicates whether to include custom input/output format classes in the job.jar or
      not; if set to true, custom format classes will be added to the job.jar and
      available as part of the MapReduce system classpath
    </description>
  </property>

  <!-- Scheduler related changes -->

  <property>
    <name>scheduler.max.thread.pool.size</name>
    <value>100</value>
    <description>Size of the scheduler thread pool</description>
  </property>

  <!-- Router configuration -->

  <property>
    <name>router.bind.address</name>
    <value>0.0.0.0</value>
    <description>
      CDAP Router service bind address
    </description>
  </property>

  <property>
    <name>router.bind.port</name>
    <value>11015</value>
    <description>
      CDAP Router service bind port
    </description>
  </property>

  <property>
    <name>router.client.boss.threads</name>
    <value>1</value>
    <description>The number of boss threads in the CDAP Router service client</description>
  </property>

  <property>
    <name>router.client.worker.threads</name>
    <value>10</value>
    <description>The number of worker threads in the CDAP Router service client</description>
  </property>

  <property>
    <name>router.connection.backlog</name>
    <value>20000</value>
    <description>The connection backlog in the CDAP Router service</description>
  </property>

  <property>
    <name>router.connection.idle.timeout.secs</name>
    <value>15</value>
    <description>
      The number of seconds after an HTTP request completes that idle router connections are closed
    </description>
  </property>

  <property>
    <name>router.server.port</name>
    <value>${router.bind.port}</value>
    <final>true</final>
    <description>
      CDAP Router service port to which CDAP UI connects
    </description>
  </property>

  <!-- Disable until SSL support
  <property>
    <name>router.ssl.bind.port</name>
    <value>10443</value>
    <description>
      CDAP Router service bind port for HTTPS
    </description>
  </property>

  <property>
    <name>router.ssl.server.port</name>
    <value>${router.ssl.bind.port}</value>
    <final>true</final>
  </property>

  -->

  <property>
    <name>master.startup.service.timeout.seconds</name>
    <value>600</value>
    <description>
      Timeout in seconds for master services to wait for their dependent services to be available.
      For example, the dataset executor master service requires the transaction service, and will wait for
      the transaction service to become available while it is starting up.
      If the timeout is hit, the service will fail to start and the master service will shut itself down.
      If set to 0 or below, master services will not wait for their dependent services to start before starting themselves.
    </description>
  </property>

  <!-- Metadata Configuration -->

  <property>
    <name>metadata.max.allowed.chars</name>
    <value>50</value>
    <description>
      Maximum number of characters for metadata keys, values, and tags
    </description>
  </property>

  <property>
    <name>metadata.service.bind.address</name>
    <value>0.0.0.0</value>
    <description>
      Metadata HTTP service bind address
    </description>
  </property>

  <property>
    <name>metadata.service.exec.threads</name>
    <value>${http.service.exec.threads}</value>
    <description>
      Number of Netty service executor threads for metadata HTTP service
    </description>
  </property>

  <property>
    <name>metadata.service.worker.threads</name>
    <value>${http.service.worker.threads}</value>
    <description>
      Number of Netty service IO worker threads for metadata HTTP service
    </description>
  </property>

  <property>
    <name>metadata.updates.kafka.broker.list</name>
    <value>127.0.0.1:${kafka.bind.port}</value>
    <description>
      Apache Kafka broker list to which metadata update notifications are published
    </description>
  </property>

  <property>
    <name>metadata.updates.kafka.topic</name>
    <value>cdap-metadata-updates</value>
    <description>
      Apache Kafka topic to which metadata update notifications are published
    </description>
  </property>

  <property>
    <name>metadata.updates.publish.enabled</name>
    <value>false</value>
    <description>
      Determines if metadata updates will be published to Kafka.
      External systems can subscribe to the Kafka topic determined by
      ${metadata.updates.kafka.topic} to receive notifications of metadata
      updates.
    </description>
    <display-name>Publish Metadata Updates</display-name>
    <value-attributes>
      <type>boolean</type>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <!-- New Metrics system settings -->

  <property>
    <name>metrics.data.table.retention.resolution.1.seconds</name>
    <value>7200</value>
    <description>Retention resolution of the 1-second resolution table in seconds; default retention period is 2 hours</description>
  </property>

  <property>
    <name>metrics.data.table.retention.resolution.60.seconds</name>
    <value>2592000</value>
    <description>
      Retention resolution for 1-minute resolution table (in seconds);
      default retention period is 30 days
    </description>
  </property>

  <property>
    <name>metrics.data.table.retention.resolution.3600.seconds</name>
    <value>2592000</value>
    <description>
      Retention resolution 1-hour resolution table (in seconds); default
      retention period is 30 days
    </description>
  </property>

  <property>
    <name>metrics.data.table.ts.rollTime.60</name>
    <value>60</value>
    <description>Number of columns in a 1-minute resolution timeseries table</description>
  </property>

  <property>
    <name>metrics.data.table.ts.rollTime.3600</name>
    <value>24</value>
    <description>Number of columns in a 1-hour resolution timeseries table</description>
  </property>

  <property>
    <name>metrics.kafka.partition.size</name>
    <value>10</value>
    <description>Number of partitions for metrics topic</description>
  </property>

  <property>
    <name>metrics.connection.backlog</name>
    <value>${http.service.connection.backlog}</value>
    <description>Max connection backlog of metrics HTTP service</description>
  </property>

  <property>
    <name>metrics.exec.threads</name>
    <value>${http.service.exec.threads}</value>
    <description>Number of Netty service executor threads for metrics HTTP services</description>
  </property>

  <property>
    <name>metrics.boss.threads</name>
    <value>${http.service.boss.threads}</value>
    <description>Number of Netty service boss threads for metrics HTTP services</description>
  </property>

  <property>
    <name>metrics.worker.threads</name>
    <value>${http.service.worker.threads}</value>
    <description>
      Number of Netty service worker threads for metrics HTTP services
    </description>
  </property>

  <property>
    <name>metrics.num.instances</name>
    <value>1</value>
    <description>
      Number of instances for the metrics service
    </description>
  </property>

  <property>
    <name>metrics.max.instances</name>
    <value>${master.service.max.instances}</value>
    <description>
      Maximum number of instances for the metrics service
    </description>
  </property>

  <property>
    <name>metrics.num.cores</name>
    <value>2</value>
    <description>
      Number of virtual cores for the metrics service
    </description>
    <display-name>Metrics Service YARN CPU Cores</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>1</minimum>
      <maximum>4</maximum>
      <increment-step>1</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>metrics.memory.mb</name>
    <value>512</value>
    <description>
      Memory assigned to the metrics service in megabytes
    </description>
    <display-name>Metrics Service YARN Memory</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>268435456</maximum>
      <unit>MB</unit>
      <increment-step>256</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <!-- Metrics Processor Configuration -->

  <property>
    <name>metrics.processor.num.instances</name>
    <value>1</value>
    <description>
      Number of instances for metrics processor service Apache Twill
      runnable
    </description>
  </property>

  <property>
    <name>metrics.processor.max.instances</name>
    <value>${master.service.max.instances}</value>
    <description>
      Maximum number of instances for metrics processor service Apache Twill
      runnable
    </description>
  </property>

  <property>
    <name>metrics.processor.num.cores</name>
    <value>1</value>
    <description>
      Number of cores for metrics processor service Apache Twill runnable
    </description>
    <display-name>Metrics Processor YARN CPU Cores</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>1</minimum>
      <maximum>4</maximum>
      <increment-step>1</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>metrics.processor.memory.mb</name>
    <value>512</value>
    <description>
      Size of memory in megabytes for metrics processor service Apache Twill
      runnable
    </description>
    <display-name>Metrics Processor YARN Memory</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>268435456</maximum>
      <unit>MB</unit>
      <increment-step>256</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>metrics.dataset.hbase.stats.report.interval</name>
    <value>60</value>
    <description>Report interval for HBase stats, in seconds</description>
  </property>

  <!-- Logging Configuration -->

  <property>
    <name>kafka.seed.brokers</name>
    <value>{{cdap_kafka_brokers}}</value>
    <description>
    Comma-separated list of CDAP Kafka service brokers; for distributed CDAP, replace with list of FQDN:port brokers
    </description>
  </property>

  <property>
    <name>log.kafka.topic</name>
    <value>logs.user-v2</value>
    <description>
      Kafka topic name used to publish logs
    </description>
  </property>

  <property>
    <name>log.publish.num.partitions</name>
    <value>10</value>
    <description>Number of CDAP Kafka service partitions to publish the logs to</description>
  </property>

  <property>
    <name>log.base.dir</name>
    <value>/logs/avro</value>
    <description>Base log directory</description>
  </property>

  <property>
    <name>log.retention.duration.days</name>
    <value>7</value>
    <description>
      Log file HDFS retention duration in days
    </description>
  </property>

  <property>
    <name>log.cleanup.run.interval.mins</name>
    <value>1440</value>
    <description>Log cleanup interval in minutes</description>
  </property>

  <property>
    <name>log.saver.run.num.cores</name>
    <value>2</value>
    <description>
      Number of cores for each log saver instance in YARN
    </description>
    <display-name>Log Saver YARN CPU Cores</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>1</minimum>
      <maximum>4</maximum>
      <increment-step>1</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>log.saver.num.instances</name>
    <value>1</value>
    <description>Number of log saver instances to run in YARN</description>
  </property>

  <property>
    <name>log.saver.max.instances</name>
    <value>${master.service.max.instances}</value>
    <description>
      Maximum number of log saver instances to run in YARN
    </description>
  </property>

  <property>
    <name>log.saver.run.memory.megs</name>
    <value>1024</value>
    <description>Memory in megabytes allocated for log saver instances to run in YARN</description>
  </property>

  <!-- Kafka Configuration -->

  <property>
    <name>kafka.bind.address</name>
    <value>0.0.0.0</value>
    <description>
      CDAP Kafka service bind address
    </description>
  </property>

  <property>
    <name>kafka.bind.port</name>
    <value>9092</value>
    <description>CDAP Kafka service bind port</description>
  </property>

  <property>
    <name>kafka.num.partitions</name>
    <value>10</value>
    <description>Default number of partitions for a topic</description>
  </property>

  <property>
    <name>kafka.log.dir</name>
    <value>/data/cdap-kafka/logs</value>
    <description>CDAP Kafka service log storage directory</description>
  </property>

  <property>
    <name>kafka.zookeeper.namespace</name>
    <value>kafka</value>
    <description>CDAP Kafka service ZooKeeper namespace</description>
  </property>

  <property>
    <name>kafka.default.replication.factor</name>
    <value>1</value>
    <description>
      CDAP Kafka service replication factor; used to replicate Kafka messages across multiple
      machines to prevent data loss in the event of a hardware failure. The recommended
      setting is to run at least two CDAP Kafka servers. If you are running two CDAP Kafka
      servers, set this value to 2; otherwise, set it to the number of CDAP Kafka servers.
    </description>
  </property>

  <!-- UI Configuration -->

  <property>
    <name>dashboard.bind.address</name>
    <value>0.0.0.0</value>
    <description>
      CDAP UI bind address
    </description>
  </property>

  <property>
    <name>dashboard.bind.port</name>
    <value>9999</value>
    <description>
      CDAP UI bind port
    </description>
  </property>

  <property>
    <name>dashboard.router.check.timeout.secs</name>
    <value>0</value>
    <description>
      Amount of time, in seconds, CDAP UI waits before exiting when unable to connect to
      CDAP Router service on startup; use a timeout of 0 to wait indefinitely
    </description>
  </property>

  <!-- Disable until SSL support
  <property>
    <name>dashboard.ssl.bind.port</name>
    <value>9443</value>
    <description>
      CDAP UI bind port for HTTPS
    </description>
  </property>

  <property>
    <name>dashboard.ssl.disable.cert.check</name>
    <value>false</value>
    <description>
      True to disable SSL certificate check from the CDAP UI
    </description>
  </property>
  -->

  <property>
    <name>router.server.boss.threads</name>
    <value>1</value>
    <description>The number of boss threads in the CDAP Router service</description>
  </property>

  <property>
    <name>router.server.worker.threads</name>
    <value>10</value>
    <description>The number of worker threads in the CDAP Router service</description>
  </property>

  <property>
    <name>router.server.address</name>
    <value>{{cdap_router_host}}</value>
    <description>
      CDAP Router service address to which CDAP UI connects
    </description>
  </property>

  <!-- Explore Service Configuration -->

  <property>
    <name>explore.enabled</name>
    <value>true</value>
    <description>
      Determines if the CDAP Explore Service (ad-hoc SQL queries) is enabled
    </description>
    <display-name>Explore Enabled</display-name>
    <value-attributes>
      <type>boolean</type>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>explore.writes.enabled</name>
    <value>true</value>
    <description>
      Determines if writing to a table through the CDAP Explore Service (ad-
      hoc SQL queries) is enabled
    </description>
  </property>

  <property>
    <name>explore.start.on.demand</name>
    <value>false</value>
    <description>
      Determines the start-up of the CDAP Explore Service (ad-hoc SQL
      queries); if false, the explore service starts up when CDAP is
      started; if true, the CDAP Explore Service will start upon the first query
      it receives
    </description>
  </property>

  <property>
    <name>explore.executor.container.num.cores</name>
    <value>1</value>
    <description>
      Number of virtual cores for each explore executor instance
    </description>
    <display-name>Explore Executor YARN CPU Cores</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>1</minimum>
      <maximum>4</maximum>
      <increment-step>1</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>explore.executor.container.memory.mb</name>
    <value>1024</value>
    <description>
      Size of Memory in megabytes for each explore executor instance
    </description>
    <display-name>Explore Executor YARN Memory</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>268435456</maximum>
      <unit>MB</unit>
      <increment-step>256</increment-step>
      <overridable>false</overridable>
    </value-attributes>
  </property>

  <property>
    <name>explore.active.operation.timeout.secs</name>
    <value>86400</value>
    <description>
      Timeout value in seconds for an SQL operation whose result was not
      fetched completely
    </description>
  </property>

  <property>
    <name>explore.inactive.operation.timeout.secs</name>
    <value>3600</value>
    <description>
      Timeout value in seconds for an SQL operation which does not have any
      more results to be fetched
    </description>
  </property>

  <property>
    <name>explore.cleanup.job.schedule.secs</name>
    <value>60</value>
    <description>
      Time in seconds to schedule clean-up job to timeout operations
    </description>
  </property>

  <!-- Notification System Settings -->

  <property>
    <name>notification.kafka.topic</name>
    <value>notifications</value>
    <description>
      Kafka topic name used to publish notifications
    </description>
  </property>

  <property>
    <name>notification.transport.system</name>
    <value>kafka</value>
    <description>
      Transport system used by the notification system; can be either 'kafka' or 'stream'
    </description>
  </property>

  <property>
    <name>http.client.connection.timeout.ms</name>
    <value>60000</value>
    <description>
      Timeout in milliseconds for internal HTTP requests
    </description>
  </property>

</configuration>
